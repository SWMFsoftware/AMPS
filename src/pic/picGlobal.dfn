#include "picGlobalDefinitions.dfn"

//the dimention of the problem 
#define DIM    3
#define _SIMULATION_TIME_STEP_MODE_ _SPECIES_DEPENDENT_LOCAL_TIME_STEP_
//#define _SIMULATION_TIME_STEP_MODE_ _SPECIES_DEPENDENT_GLOBAL_TIME_STEP_

//#define _SIMULATION_PARTICLE_WEIGHT_MODE_ _SPECIES_DEPENDENT_LOCAL_PARTICLE_WEIGHT_
#define _SIMULATION_PARTICLE_WEIGHT_MODE_ _SPECIES_DEPENDENT_GLOBAL_PARTICLE_WEIGHT_


//define the sampling model: in a regular case where the code is used for particle simulations the _PIC_SAMPLING_MODE_ is _PIC_MODE_ON_. 
//When the code is used for 'particle tracking' ONLY the value of _PIC_SAMPLING_MODE_ need to be _PIC_MODE_OFF_
#define _PIC_SAMPLING_MODE_ _PIC_MODE_ON_

//define the partile-tracking mode: if _PIC_PARTICLE_TRACKER_MODE is _PIC_MODE_ON_ than AMPS accumulates particle trajecotries and outpur them into a file; default value is _PIC_MODE_OFF_
#define _PIC_PARTICLE_TRACKER_MODE_ _PIC_MODE_OFF_
#define _PIC_PARTICLE_TRACKER__TRACKING_CONDITION_(x,v,spec,ParticleData) TrajectoryTrackingCondition_default(x,v, spec,ParticleData)
#define _PIC_PARTICLE_TRACKER__TRAJECTORY_OUTPUT_MODE_ _PIC_PARTICLE_TRACKER__TRAJECTORY_OUTPUT_MODE__ENTIRE_TRAJECTORY_ 

/* _PIC_PARTICLE_TRACKER__TRACKING_CONDITION_MODE__DYNAMICS_ and _PIC_PARTICLE_TRACKER__TRACKING_CONDITION_MODE__CHEMISTRY_ are used when it is needed to 
apply the particle trajectory tracking condition after the particle already has started its motion. The first is used after chemicsl reactions and the latter 
at the end of each time step
*/  

#define _PIC_PARTICLE_TRACKER__TRACKING_CONDITION_MODE__DYNAMICS_   _PIC_MODE_OFF_
#define _PIC_PARTICLE_TRACKER__TRACKING_CONDITION_MODE__CHEMISTRY_  _PIC_MODE_OFF_

//the maximum length of the strings
#define _MAX_STRING_LENGTH_PIC_  2000

//debugger mode
#define _PIC_DEBUGGER_MODE_ _PIC_DEBUGGER_MODE_ON_
#define _PIC_DEBUGGER_MODE__MOVER__CALCULATED_PARTICLE_COORDINATES_ _PIC_DEBUGGER_MODE_OFF_
#define _PIC_DEBUGGER_MODE__SAMPLING__PARTICLE_COORDINATES_ _PIC_DEBUGGER_MODE_OFF_
#define _PIC_DEBUGGER_MODE__CHECK_FINITE_NUMBER_ _PIC_DEBUGGER_MODE_OFF_
#define _PIC_DEBUGGER_MODE__VARIABLE_VALUE_RANGE_CHECK_  _PIC_DEBUGGER_MODE__VARIABLE_VALUE_RANGE_CHECK_OFF_
#define _PIC_DEBUGGER_MODE__SAMPLING_BUFFER_VALUE_RANGE_CHECK_  _PIC_DEBUGGER_MODE__VARIABLE_VALUE_RANGE_CHECK_OFF_

//individual particles' weight
#define _INDIVIDUAL_PARTICLE_WEIGHT_MODE_  _INDIVIDUAL_PARTICLE_WEIGHT_ON_ 


//accounting for force acting upon on a particle when integrate the particle trajectory; 
#define _PIC_PARTICLE_MOVER__FORCE_INTEGRTAION_MODE_ _PIC_PARTICLE_MOVER__FORCE_INTEGRTAION_MODE__ON_
#define _PIC_PARTICLE_MOVER__GENERIC_TRANSFORMATION_INDICATOR_(xMiddle,vMiddle,spec,ptr,ParticleData,dtMin,TransformationTimeStepLimitFlag,startNode) _PIC_GENERIC_PARTICLE_TRANSFORMATION_MODE_OFF_;
#define _PIC_PARTICLE_MOVER__BORIS_SPLIT_ACCELERATION_(accl,rotation,spec,ptr,x,v,startNode) BorisSplitAcceleration_default(accl,rotation,spec,ptr,x,v,startNode);
#define _PIC_PARTICLE_MOVER__TOTAL_PARTICLE_ACCELERATION_(accl,spec,ptr,x,v,startNode) TotalParticleAcceleration_default(accl,spec,ptr,x,v,startNode);
#define _PIC_PARTICLE_MOVER__GENERIC_TRANSFORMATION_PROCESSOR_(xinit,x,v,spec,ptr,ParticleData,dt,startNode) _GENERIC_PARTICLE_TRANSFORMATION_CODE__TRANSFORMATION_OCCURED_;
#define _PIC_PARTICLE_MOVER__MOVE_PARTICLE_TIME_STEP_(ptr,LocalTimeStep,node) PIC::Mover::UniformWeight_UniformTimeStep_noForce_TraceTrajectory_SecondOrder(ptr,LocalTimeStep,node);
#define _PIC_PARTICLE_MOVER__MOVE_PARTICLE_BOUNDARY_INJECTION_(ptr,LocalTimeStep,node,FirstBoundaryFlag) PIC::Mover::UniformWeight_UniformTimeStep_noForce_TraceTrajectory_BoundaryInjection_SecondOrder(ptr,LocalTimeStep,node,FirstBoundaryFlag);


//sampling the distribution function
#define _SAMPLING_DISTRIBUTION_FUNCTION_MODE_ _SAMPLING_DISTRIBUTION_FUNCTION_ON_

//the mode of the parallel load balancing 
#define _PIC_DYNAMIC_LOAD_BALANCING_MODE_ _PIC_DYNAMIC_LOAD_BALANCING_EXECUTION_TIME_
#define _PIC_DYNAMIC_LOAD_BALANCING__MIN_ITERATION_BETWEEN_LOAD_REBALANCING_   50

#define _PIC_EMERGENCY_LOAD_REBALANCING_MODE_ _PIC_MODE_ON_
#define _PIC_SAMPLING_BREAK_LOAD_REBALANCING_MODE_ _PIC_MODE_ON_

//the modes of using the ICES
#define _PIC_ICES_SWMF_MODE_ _PIC_ICES_MODE_ON_
#define _PIC_ICES_DSMC_MODE_ _PIC_ICES_MODE_OFF_

//particle transformation, photolytic reactions
#define _PIC_PHOTOLYTIC_REACTIONS_MODE_ _PIC_PHOTOLYTIC_REACTIONS_MODE_OFF_
#define _PIC_GENERIC_PARTICLE_TRANSFORMATION_MODE_ _PIC_GENERIC_PARTICLE_TRANSFORMATION_MODE_OFF_

//the default procedure for calcualtion of the lifitime for the photolytic processes
#define _PIC_PHOTOLYTIC_REACTIONS__TOTAL_LIFETIME_(x,spec,ptr,flag,node) TotalLifeTime_default(x,spec,ptr,flag,node);

//the default procedure for processing the photolytic reactions
#define _PIC_PHOTOLYTIC_REACTIONS__REACTION_PROCESSOR_(xInit,xFinal,vFinal,ptr,spec,ParticleData,node) PIC::ChemicalReactions::PhotolyticReactions::PhotolyticReactionProcessor_default(xInit,xFinal,vFinal,ptr,spec,ParticleData,node);

//sampling of the particle data
#define _PIC_SAMPLE_PARTICLE_DATA_MODE_  _PIC_SAMPLE_PARTICLE_DATA_MODE__BETWEEN_ITERATIONS_

//sample normal and tangential kinetic temperature 
#define _PIC_SAMPLE__PARALLEL_TANGENTIAL_TEMPERATURE__MODE_ _PIC_SAMPLE__PARALLEL_TANGENTIAL_TEMPERATURE__MODE__CONSTANT_DIRECTION_ORIGIN_

//the default mode for the backgound atmosphere models
#define _PIC_BACKGROUND_ATMOSPHERE_MODE_ _PIC_BACKGROUND_ATMOSPHERE_MODE__OFF_
#define _PIC_BACKGROUND_ATMOSPHERE__LOAD_USER_DEFINITION__MODE_ _PIC_MODE_OFF_
#define _PIC_BACKGROUND_ATMOSPHERE__UDER_DEFINITION_ "UserDefinition.PIC.BackgroundAtmosphere.h"
#define _PIC_BACKGROUND_ATMOSPHERE__BACKGROUND_PARTICLE_ACCEPTANCE_MODE_ _PIC_MODE_ON_
#define _PIC_BACKGROUND_ATMOSPHERE__MODEL_PARTICLE_REMOVAL_MODE_  _PIC_MODE_ON_

//the cross section type in the background atmosphere model
#define _PIC_BACKGROUND_ATMOSPHERE_COLLISION_VELOCITY_REDISTRIBUTION_ _PIC_BACKGROUND_ATMOSPHERE_COLLISION_VELOCITY_REDISTRIBUTION__ISOTROPIC_    

//allow to load the user defined file with the solver setup parameters
#ifndef _PIC_USER_DEFINITION_MODE_
#define _PIC_USER_DEFINITION_MODE_ _PIC_USER_DEFINITION_MODE__DISABLED_
#endif

//the volume injection of the particles and the type of injection of model particles into a cell
#define _PIC_VOLUME_PARTICLE_INJECTION_MODE_ _PIC_VOLUME_PARTICLE_INJECTION_MODE__OFF_
#define _PIC_VOLUME_PARTICLE_INJECTION__INJECTION_MODE_ _PIC_VOLUME_PARTICLE_INJECTION__INJECTION_MODE__UNIFORM_

//collisions of model particles with the background atmosphere 
#define _PIC_BACKGROUND_ATMOSPHERE_COLLISION_FREQ_MODE_ _PIC_BACKGROUND_ATMOSPHERE_COLLISION_FREQ_MODE__UNIFORM_

//the model of the electrically charged dust
#define _PIC_MODEL__DUST__MODE_ _PIC_MODEL__DUST__MODE__OFF_
#define _PIC_MODEL__DUST__ELECTRIC_CHARGE_MODE_ _PIC_MODEL__DUST__ELECTRIC_CHARGE_MODE__OFF_

//include the user defined headers for the physical models
#ifndef _PIC__USER_DEFINED__USER_PHYSICAL_MODEL__HEADER_LIST_MODE_
#define _PIC__USER_DEFINED__USER_PHYSICAL_MODEL__HEADER_LIST_MODE_ _PIC__USER_DEFINED__USER_PHYSICAL_MODEL__HEADER_LIST_MODE__OFF_
#endif

//allow prefetch of memory buffers
#define _PIC_MEMORY_PREFETCH_MODE_ _PIC_MEMORY_PREFETCH_MODE__OFF_
#define _PIC_MEMORY_PREFETCH__CHACHE_LINE_ 64

//execute user defined MPI data exchange function after the syncronizatino point at the particle exchange routine
#define _PIC__USER_DEFINED__MPI_MODEL_DATA_EXCHANGE_MODE_ _PIC__USER_DEFINED__MPI_MODEL_DATA_EXCHANGE_MODE__OFF_ 

//call a user defined function after outputing of the data file to clean all user's sampling buffers
#define _PIC__USER_DEFINED__CLEAN_SAMPLING_DATA__MODE_ _PIC__USER_DEFINED__CLEAN_SAMPLING_DATA__MODE__OFF_ 

//allow the load the user-defined difinition of macro defining the symbolic description of the species used in the simulation 
#define _PIC__USER_DEFINED__LOAD_SPECIES_MACRO__MODE_ _PIC__USER_DEFINED__LOAD_SPECIES_MACRO__MODE__OFF_ 

//the mode of particle collision model
#define _PIC__PARTICLE_COLLISION_MODEL__MODE_ _PIC_MODE_OFF_
#define _PIC__PARTICLE_COLLISION_MODEL_ _PIC__PARTICLE_COLLISION_MODEL__HS_

//the functions that are used for the user defined collision models
#define _PIC__PARTICLE_COLLISION_MODEL__MEAN_CR_SIGMA_FUNCTION_    0
#define _PIC__PARTICLE_COLLISION_MODEL__SIGMA_    0

//sample collision frequentcy by the particle collision model
#define _PIC__PARTICLE_COLLISION_MODEL__SAMPLE_COLLISION_FREQUENTCY_MODE__ _PIC_MODE_ON_

//default setting for modeling of the relaxation of the internal degrees of freedom
#define _PIC_INTERNAL_DEGREES_OF_FREEDOM__VT_RELAXATION_MODE_  _PIC_MODE_OFF_
#define _PIC_INTERNAL_DEGREES_OF_FREEDOM__VV_RELAXATION_MODE_  _PIC_MODE_OFF_
#define _PIC_INTERNAL_DEGREES_OF_FREEDOM__TR_RELAXATION_MODE_  _PIC_MODE_ON_

//default setting of the internal degrees of freedom model
#define _PIC_INTERNAL_DEGREES_OF_FREEDOM_MODE_ _PIC_MODE_OFF_
#define _PIC_INTERNAL_DEGREES_OF_FREEDOM_MODEL_ _PIC_INTERNAL_DEGREES_OF_FREEDOM_MODEL__LB_

//default setting of the coupler mode
#define _PIC_COUPLER_MODE_    _PIC_COUPLER_MODE__OFF_ 

//default background file reader
#define _PIC_COUPLER_DATAFILE_READER_MODE_ _PIC_COUPLER_DATAFILE_READER_MODE__TECPLOT_



//check intersection with the block's boundaries when integrate the equation of motion (used together with the local time stepping and local weight for steady-state problems)
#define _PIC__PARTICLE_MOVER__CHECK_BLOCK_FACE_INTERSECTION__MODE_ _PIC_MODE_OFF_

//default setting for the radiative cooling
#define _PIC_MODEL__RADIATIVECOOLING__MODE_  _PIC_MODEL__RADIATIVECOOLING__MODE__OFF_

//check whether a particle is inside the surface described by a NASTRAN surface mesh after particle motion
#define _PIC_CONTROL_PARTICLE_INSIDE_NASTRAN_SURFACE_ _PIC_MODE_OFF_

//default setting for the radial velocity mode
#define _PIC_MODEL__RADIAL_VELOCITY_MODE_ _PIC_MODEL__RADIAL_VELOCITY_MODE__OFF_

//default sampling model for the particle velocity
#define _PIC_VELOCITY_DISTRIBUTION_SAMPLING_MODE_ _PIC_MODE_OFF_
//default sampling model for the particle pitch angle
#define _PIC_PITCH_ANGLE_DISTRIBUTION_SAMPLING_MODE_ _PIC_MODE_OFF_

//the mode of the output of the AMPS' macroscopic data file 
#define _PIC_OUTPUT_MACROSCOPIC_FLOW_DATA_MODE_ _PIC_OUTPUT_MACROSCOPIC_FLOW_DATA_MODE__TECPLOT_ASCII_ 

//run AMPS just to read saved sampling data restart file
#define _PIC_RECOVER_SAMPLING_DATA_RESTART_FILE__MODE_ _PIC_RECOVER_SAMPLING_DATA_RESTART_FILE__MODE_OFF_
#define _PIC_RECOVER_SAMPLING_DATA_RESTART_FILE__EXECUTION_MODE_  _PIC_RECOVER_SAMPLING_DATA_RESTART_FILE__EXECUTION_MODE__STOP_

//read/save the particle restart data
#define _PIC_READ_PARTICLE_DATA_RESTART_FILE__MODE_ _PIC_READ_PARTICLE_DATA_RESTART_FILE__MODE_OFF_
#define _PIC_AUTOSAVE_PARTICLE_DATA_RESTART_FILE__MODE_ _PIC_AUTOSAVE_PARTICLE_DATA_RESTART_FILE__MODE_OFF_

//by default the glabal simulation time counter is off. the time counter representes the global physical simulation time. it can be 'on' only when a global-single-species or
//global-species-dependent (with only one species in the simulation) time stepping are used
#define _PIC_GLOBAL_TIME_COUNTER_MODE_ _PIC_MODE_OFF_

//_PIC_NIGHTLY_TEST_MODE_ = _PIC_MODE_ON_/_PIC_MODE_OFF_ -> determines whether the code is used in the test mode for the nightly test. if _PIC_NIGHTLY_TEST_MODE_==_PIC_MODE_ON_ than
//the model run is limited by a "small" number of the iteractions, and the particle averaged data is output at the end of the run for comparing with the reference solution. 
//by default _PIC_NIGHTLY_TEST_MODE_ == _PIC_MODE_OFF_ 
#ifndef _PIC_NIGHTLY_TEST_MODE_
#define _PIC_NIGHTLY_TEST_MODE_ _PIC_MODE_OFF_
#endif

//the spatial symmetry mode
#define _PIC_SYMMETRY_MODE_ _PIC_SYMMETRY_MODE__NONE_



