
#main  

SpeciesList=N2  !, NA_Plus !lkdsjflksdj   


!settings of the directories
!update the following variables in the makefile 


makefile  SOURCES=src
makefile  SPICE=/Users/vtenishe/SPICE/Toolkit/cspice !nospice 
makefile  RUNDIR=run
makefile  MPIRUN=mpirun -np 4

ProjectSourceDirectory=srcProtostellarNebula  

WorkingSourceDirectory=srcTemp   !. !srcTemp !the location of the code that will be compiled (current directory == ".") 
SourceDirectory=src

!ErrorLog=amps_error.log
Prefix=AMPS
!DiagnosticStream=output/PT/amps.log !!!screen !!screen, filename 'something like amps.log'
!OutputDirectory=output/PT

!PT/plots
ErrorLog=PT/amps_error.log
DiagnosticStream=PT
OutputDirectory=PT/plots


DebuggerMode=off !on,off
ForceRepeatableSimulationPath=on ! on,off


StdoutErrorLog=off !on,off -> print out error message on the screen

TimeStepMode= SpeciesGlobalTimeStep !SingleGlobalTimeStep !SingleGlobalTimeStep, SpeciesGlobalTimeStep, SingleLocalTimeStep, SpeciesLocalTimeStep  
ParticleWeightMode=SpeciesGlobalParticleWeight !SingleGlobalParticleWeight, SpeciesGlobalParticleWeight, SingleLocalParticleWeight, SpeciesLocalParticleWeight 
ParticleWeightCorrectionMode=on !on,off


CouplerMode=off !ices !!off, ices, swmf 

#endmain

#include species.input

#UserDefinitions
  PIC=on ! on, off
  Mesh=on ! on, off
#endUserDefinitions

#General
  ReferenceInjectionParticleNumber=200
  MaxMeshRefinmentLevel=12
  EnforceRequestedMeshResolution=on !on,off
  InitialSampleLength=5000


! ReferenceInjectionParticleNumber=200
! MaxMeshRefinmentLevel=8! 2 !4
! EnforceRequestedMeshResolution=off !on,off

  BlockCells=5,5,5
  GhostCells=2,2,2
! CutCellVolumeCalculationMaxRefinmentLevel=1

  NastranSurfaceUserData=on !!!on, off
  ControlParticleInsideNastranSurface=off !!!on,of

#endGeneral

#ParticleCollisions 
  model = off ! HS !!off !HS ! HS, off
  SampleCollisionFrequency=off !!on !on, off

  CollisionCrossSection=const \\ !const, function 
    const (Na,Na)= 1.23E-15
#endParticleCollisions


#Sampling 
  SampleParallelTangentialKineticTemperature=off \\ !on,off direction=const(0.0,0.0,0.0); direction=function(??????)
    direction=const(1.0,2.0,3.0)

#endSampling

#IDF
  model=off! LB !off, qLB,LB
  vtRelaxation=off !on,off
  vvRelaxation=off !on,off
  rtRelaxation=on !on,off

  nVibModes(Na=1)
  nRotModes(Na=1)
  VibTemp(Na=2000)
  RotZnum(Na=0.25)

  TemperatureIndex(Na,Na)=1.0
#endIDF




!#block ../moon.input.pl !process settings of the moon module
!  SodiumStickingProbability= Yakshinskiy2005SS !const(1.0)  ! const(?), TemperatureLimit(??), Yakshinskiy2005SS  
!  SodiumReemissionFraction=1.0
!#endblock

#block ../exosphere.pl !process the data block with the setting of the exospehre model 

  SPICE=off !off !on, off

  define _TARGET_ _SUN_
  define _PIC_PARTICLE_MOVER__TOTAL_PARTICLE_ACCELERATION_(acclMiddle,spec,ptr,xMiddle,vMiddle,middleNode) ProtostellarNebula::TotalParticleAcceleration(acclMiddle,spec,ptr,xMiddle,vMiddle,middleNode)
! define _PIC_USER_DEFING_PARTICLE_SAMPLING_(tempParticleData,LocalParticleWeight,tempSamplingBuffer,s) ProtostellarNebula::Sampling::SampleParticleData(tempParticleData,LocalParticleWeight,tempSamplingBuffer,s)
! define _PIC__USER_DEFINED__MPI_MODEL_DATA_EXCHANGE_MODE_ _PIC__USER_DEFINED__MPI_MODEL_DATA_EXCHANGE_MODE__ON_
! define _PIC__USER_DEFINED__MPI_MODEL_DATA_EXCHANGE_() Europa::ExchangeSurfaceAreaDensity()
! define _PIC__USER_DEFINED__CLEAN_SAMPLING_DATA__MODE_ _PIC__USER_DEFINED__CLEAN_SAMPLING_DATA__MODE__ON_
! define _PIC__USER_DEFINED__CLEAN_SAMPLING_DATA_() Europa::Sampling::FlushSamplingDataBuffers()


  SimulationStartTime=2009-01-24T00:00:00

  addPhysicalModelHeader=ProtostellarNebula.h 



!---------------------------------   SOURCE RATE --------------------------------------------
 
  Source:ImpactVaporization=off \\ !on,off
    HeliocentricDistance=1.0*_AU_ \\ 
    SourceRatePowerIndex=0.0 \\
    SourceRate(N2)=1.69E22, SourceTemperature(N2)=6000.0  !//Killen-2012-JGR ;2500.0; //////1.79e21; //Killen-2012-JGR   ;1.1e22;  2.05e22 IV for Sarantos 2010 

  Source:UserDefined=on \\ !on,off
    SourceProcessCode=VenticalSource \\
    SourceRate=ProtostellarNebula::UserdefinedSoruce::GetTotalProductionRate \\ !!!!!Moon::GetTotalProductionRateBjorn !!!Exosphere::SourceProcesses::ImpactVaporization::GetTotalProductionRate \\
    GenerateParticleProperties=ProtostellarNebula::UserdefinedSoruce::GenerateParticleProperties \\ !!Moon::GenerateParticlePropertiesBjorn !!Moon::GenerateParticlePropertiesBjorn  !!!Exosphere::SourceProcesses::ImpactVaporization::GenerateParticleProperties \\
    ModifySurfaceSpeciesAbundance=false !!!true,false
!   InitSurfaceSourceDistribution=SolarWindSputtering::SurfaceInjectionDistribution.Init


#endblock


#end
